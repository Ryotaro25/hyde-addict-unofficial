{% extends "base.html" %}
{% block title %}HYDE ADDICT UNOFFICIAL | Release{% endblock %}

{% block content %}
<section class="glass-card p-4 rounded-lg">
    <div class="flex items-center justify-between mb-4">
        <h2 class="font-semibold accent text-lg">magazines</h2>
    </div>

    <!-- Artist Filter -->
    <div class="mb-4 flex flex-wrap gap-3 items-center">
        <label for="artist-filter" class="text-sm text-[var(--muted)]">アーティスト:</label>
        <select id="artist-filter" name="artist_id"
            class="bg-[var(--bg-2)] border border-white/10 rounded px-2 py-1 text-sm" hx-get="/magazines/filter"
            hx-target="#music-list" hx-trigger="change" hx-include="this">
            <option value="">全て</option>
            <option value="1">L'Arc~en~Ciel</option>
            <option value="2">HYDE</option>
            <option value="3">VAMPS</option>
            <option value="7">THE LAST ROCKSTARS</option>
        </select>
    </div>

    <!-- Release Items Container -->
    <div id="music-list">
        <div class="mb-2 text-sm text-[var(--muted)]">
            雑誌販売総数：<strong class="font-semibold accent text-lg">{{ magazines|length }}</strong>回
        </div>
        <div class="grid grid-cols-1 sm:grid-cols-3 gap-3">
            {% for m in magazines %}
            <div class="block p-3 rounded hover:bg-white/3 text-sm cursor-default">
                <div class="font-medium">{{ m.magazine_name }}</div>
                <div class="text-xs text-[var(--muted)]">アーティスト : {{ m.artist_name }}</div>
                <div class="text-xs text-[var(--muted)]">出版社 : {{ m.publisher_name }}</div>
                <div class="text-xs text-[var(--muted)]">出版日 : {{ m.formatted_date }}</div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>
{% endblock %}